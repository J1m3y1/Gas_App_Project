#include <QApplication>
#include <QGraphicsView>
#include <QGraphicsScene>
#include <QGraphicsEllipseItem>
#include <QGraphicsTextItem>
#include <vector>
#include <string>

struct GasStation {
    std::string name;
    double lat;
    double lng;
};

int main(int argc, char *argv[]) {
    QApplication app(argc, argv);

    QGraphicsScene scene;
    QGraphicsView view(&scene);
    view.setWindowTitle("Gas Stations in Baton Rouge");
    view.setFixedSize(800, 600);
    scene.setSceneRect(0, 0, 800, 600);

    // Simulated coordinate scaling
    auto scaleLat = [](double lat) { return (lat - 30.35) * 10000; };
    auto scaleLng = [](double lng) { return (lng + 91.25) * 10000; };

    std::vector<GasStation> stations = {
        {"RaceTrac - Harding Blvd", 30.5235, -91.1682},
        {"Fuel - Staring Ln", 30.3786, -91.1053},
        {"Mobil - Lee Dr", 30.3902, -91.1456},
        {"Murphy USA - S Wooddale Blvd", 30.4512, -91.0883},
        {"Circle K - College Dr", 30.4215, -91.1342},
        {"Shell - E State St", 30.4132, -91.1804},
        {"Chevron - E Roosevelt St", 30.4563, -91.1702}
    };

    for (const auto& station : stations) {
        double x = scaleLng(station.lng);
        double y = scaleLat(station.lat);

        QGraphicsEllipseItem* pin = scene.addEllipse(x, y, 10, 10, QPen(Qt::red), QBrush(Qt::red));
        QGraphicsTextItem* label = scene.addText(QString::fromStdString(station.name));
        label->setPos(x + 12, y - 5);
    }

    view.show();
    return app.exec();
}
